<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>History</title>
<link rel="stylesheet" href="../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">
<link rel="up" href="../thread.html" title="Chapter&#160;28.&#160;Thread 3.1.0">
<link rel="prev" href="build.html" title="Using and building the library">
<link rel="next" href="future.html" title="Future">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../boost.png"></td>
<td align="center"><a href="../../../index.html">Home</a></td>
<td align="center"><a href="../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="build.html"><img src="../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../thread.html"><img src="../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="future.html"><img src="../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="thread.changes"></a><a class="link" href="changes.html" title="History">History</a>
</h2></div></div></div>
<h4>
<a name="thread.changes.h0"></a>
      <span><a name="thread.changes.version_3_1_0___boost_1_52"></a></span><a class="link" href="changes.html#thread.changes.version_3_1_0___boost_1_52">Version
      3.1.0 - boost 1.52</a>
    </h4>
<p>
      Deprecated Features:
    </p>
<p>
      Deprecated features since boost 1.50 available only until boost 1.55:
    </p>
<p>
      These deprecated features will be provided by default up to boost 1.52. If
      you don't want to include the deprecated features you could define BOOST_THREAD_DONT_PROVIDE_DEPRECATED_FEATURES_SINCE_V3_0_0.
      Since 1.53 these features will not be included any more by default. Since this
      version, if you want to include the deprecated features yet you could define
      BOOST_THREAD_PROVIDE_DEPRECATED_FEATURES_SINCE_V3_0_0. These deprecated features
      will be only available until boost 1.55, that is you have yet 1 year to move
      to the new features.
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
          Time related functions don't using the Boost.Chrono library, use the chrono
          overloads instead.
        </li></ul></div>
<p>
      Breaking changes when BOOST_THREAD_VERSION==3 (Default value since Boost 1.53):
    </p>
<p>
      There are some new features which share the same interface but with different
      behavior. These breaking features are provided by default when BOOST_THREAD_VERSION
      is 3, but the user can however choose the version 2 behavior by defining the
      corresponding macro. As for the deprecated features, these broken features
      will be only available until boost 1.55.
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6229" target="_top">#6229</a>
          Rename the unique_future to future following the c++11.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6266" target="_top">#6266</a>
          Breaking change: thread destructor should call terminate if joinable.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6269" target="_top">#6269</a>
          Breaking change: thread move assignment should call terminate if joinable.
        </li>
</ul></div>
<p>
      New Features:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/2361" target="_top">#2361</a>
          thread_specific_ptr: document nature of the key, complexity and rationale.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/4710" target="_top">#4710</a>
          C++11 compliance: Missing async().
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7283" target="_top">#7283</a>
          C++11 compliance: Add notify_all_at_thread_exit.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7345" target="_top">#7345</a>
          C++11 compliance: Add noexcept to recursive mutex try_lock.
        </li>
</ul></div>
<p>
      Fixed Bugs:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/2797" target="_top">#2797</a>
          Two problems with thread_specific_ptr.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/5274" target="_top">#5274</a>
          failed to compile future.hpp with stlport 5.1.5 under msvc8.1, because
          of undefined class.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/5431" target="_top">#5431</a>
          compile error in Windows CE 6.0(interlocked).
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/5696" target="_top">#5696</a>
          win32 detail::set_tss_data does nothing when tss_cleanup_function is NULL.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6931" target="_top">#6931</a>
          mutex waits forwever with Intel C++ Compiler XE 12.1.5.344 Build 20120612
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7045" target="_top">#7045</a>
          Thread library does not automatically compile date_time.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7173" target="_top">#7173</a>
          wrong function name interrupt_point().
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7200" target="_top">#7200</a>
          Unable to build boost.thread modularized.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7220" target="_top">#7220</a>
          gcc 4.6.2 warns about inline+dllimport functions.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7238" target="_top">#7238</a>
          this_thread::sleep_for() does not respond to interrupt().
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7245" target="_top">#7245</a>
          Minor typos on documentation related to version 3.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7272" target="_top">#7272</a>
          win32/thread_primitives.hpp: (Unneccessary) Warning.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7284" target="_top">#7284</a>
          Clarify that there is no access priority between lock and shared_lock on
          shared mutex.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7329" target="_top">#7329</a>
          boost/thread/future.hpp does not compile on HPUX.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7336" target="_top">#7336</a>
          BOOST_THREAD_DONT_USE_SYSTEM doesn't work.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7329" target="_top">#7349</a>
          packaged_task holds reference to temporary.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7350" target="_top">#7350</a>
          allocator_destructor does not destroy object
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7360" target="_top">#7360</a>
          Memory leak in pthread implementation of boost::thread_specific_ptr
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7370" target="_top">#7370</a>
          Boost.Thread documentation
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7438" target="_top">#7438</a>
          Segmentation fault in test_once regression test in group.join_all();
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7461" target="_top">#7461</a>
          detail::win32::ReleaseSemaphore may be called with count_to_release equal
          to 0
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7499" target="_top">#7499</a>
          call_once doesn't call even once
        </li>
</ul></div>
<h4>
<a name="thread.changes.h1"></a>
      <span><a name="thread.changes.version_3_0_1___boost_1_51"></a></span><a class="link" href="changes.html#thread.changes.version_3_0_1___boost_1_51">Version
      3.0.1 - boost 1.51</a>
    </h4>
<p>
      Deprecated Features:
    </p>
<p>
      Deprecated features since boost 1.50 available only until boost 1.55:
    </p>
<p>
      These deprecated features will be provided by default up to boost 1.52. If
      you don't want to include the deprecated features you could define BOOST_THREAD_DONT_PROVIDE_DEPRECATED_FEATURES_SINCE_V3_0_0.
      Since 1.53 these features will not be included any more by default. Since this
      version, if you want to include the deprecated features yet you could define
      BOOST_THREAD_PROVIDE_DEPRECATED_FEATURES_SINCE_V3_0_0. These deprecated features
      will be only available until boost 1.55, that is you have 1 year and a half
      to move to the new features.
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
          Time related functions don't using the Boost.Chrono library, use the chrono
          overloads instead.
        </li></ul></div>
<p>
      Breaking changes when BOOST_THREAD_VERSION==3:
    </p>
<p>
      There are some new features which share the same interface but with different
      behavior. These breaking features are provided by default when BOOST_THREAD_VERSION
      is 3, but the user can however choose the version 2 behavior by defining the
      corresponding macro. As for the deprecated features, these broken features
      will be only available until boost 1.55.
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6229" target="_top">#6229</a>
          Rename the unique_future to future following the c++11.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6266" target="_top">#6266</a>
          Breaking change: thread destructor should call terminate if joinable.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6269" target="_top">#6269</a>
          Breaking change: thread move assignment should call terminate if joinable.
        </li>
</ul></div>
<p>
      Fixed Bugs:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/4258" target="_top">#4258</a>
          Linking with boost thread does not work on mingw/gcc 4.5.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/4885" target="_top">#4885</a>
          Access violation in set_tss_data at process exit due to invalid assumption
          about TlsAlloc.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6931" target="_top">#6931</a>
          mutex waits forwever with Intel Compiler and /debug:parallel
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7044" target="_top">#7044</a>
          boost 1.50.0 header missing.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7052" target="_top">#7052</a>
          Thread: BOOST_THREAD_PROVIDES_DEPRECATED_FEATURES_SINCE_V3_0_0 only masks
          thread::operator==, thread::operator!= forward declarations, not definitions.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7066" target="_top">#7066</a>
          An attempt to fix current_thread_tls_key static initialization order.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7074" target="_top">#7074</a>
          Multiply defined symbol boost::allocator_arg.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7078" target="_top">#7078</a>
          Trivial 64-bit warning fix on Windows for thread attribute stack size
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/7089" target="_top">#7089</a>
          BOOST_THREAD_WAIT_BUG limits functionality without solving anything
        </li>
</ul></div>
<h4>
<a name="thread.changes.h2"></a>
      <span><a name="thread.changes.version_3_0_0___boost_1_50"></a></span><a class="link" href="changes.html#thread.changes.version_3_0_0___boost_1_50">Version
      3.0.0 - boost 1.50</a>
    </h4>
<p>
      Breaking changes when BOOST_THREAD_VERSION==3:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6229" target="_top">#6229</a>
          Breaking change: Rename the unique_future to future following the c++11.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6266" target="_top">#6266</a>
          Breaking change: thread destructor should call terminate if joinable.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6269" target="_top">#6269</a>
          Breaking change: thread move assignment should call terminate if joinable.
        </li>
</ul></div>
<p>
      New Features:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/1850" target="_top">#1850</a>
          Request for unlock_guard to compliment lock_guard.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/2637" target="_top">#2637</a>
          Request for shared_mutex duration timed_lock and timed_lock_shared.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/2741" target="_top">#2741</a>
          Proposal to manage portable and non portable thread attributes.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/3567" target="_top">#3567</a>
          Request for shared_lock_guard.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6194" target="_top">#6194</a>
          Adapt to Boost.Move.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6195" target="_top">#6195</a>
          c++11 compliance: Provide the standard time related interface using Boost.Chrono.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6217" target="_top">#6217</a>
          Enhance Boost.Thread shared mutex interface following Howard Hinnant proposal.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6224" target="_top">#6224</a>
          c++11 compliance: Add the use of standard noexcept on compilers supporting
          them.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6225" target="_top">#6225</a>
          Add the use of standard =delete defaulted operations on compilers supporting
          them.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6226" target="_top">#6226</a>
          c++11 compliance: Add explicit bool conversion from locks.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6228" target="_top">#6228</a>
          Add promise constructor with allocator following the standard c++11.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6230" target="_top">#6230</a>
          c++11 compliance: Follows the exception reporting mechanism as defined
          in the c++11.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6231" target="_top">#6231</a>
          Add BasicLockable requirements in the documentation to follow c++11.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6272" target="_top">#6272</a>
          c++11 compliance: Add thread::id hash specialization.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6273" target="_top">#6273</a>
          c++11 compliance: Add cv_status enum class and use it on the conditions
          wait functions.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6342" target="_top">#6342</a>
          c++11 compliance: Adapt the one_flag to the c++11 interface.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6671" target="_top">#6671</a>
          upgrade_lock: missing mutex and release functions.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6672" target="_top">#6672</a>
          upgrade_lock:: missing constructors from time related types.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6675" target="_top">#6675</a>
          upgrade_lock:: missing non-member swap.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6676" target="_top">#6676</a>
          lock conversion should be explicit.
        </li>
<li class="listitem">
          Added missing packaged_task::result_type and packaged_task:: constructor
          with allocator.
        </li>
<li class="listitem">
          Added packaged_task::reset()
        </li>
</ul></div>
<p>
      Fixed Bugs:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/2380" target="_top">#2380</a>
          boost::move from lvalue does not work with gcc.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/2430" target="_top">#2430</a>
          shared_mutex for win32 doesn't have timed_lock_upgrade.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/2575" target="_top">#2575</a>
          Bug- Boost 1.36.0 on Itanium platform.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/3160" target="_top">#3160</a>
          Duplicate tutorial code in boost::thread.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/4345" target="_top">#4345</a>
          thread::id and joining problem with cascade of threads.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/4521" target="_top">#4521</a>
          Error using boost::move on packaged_task (MSVC 10).
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/4711" target="_top">#4711</a>
          Must use implementation details to return move-only types.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/4921" target="_top">#4921</a>
          BOOST_THREAD_USE_DLL and BOOST_THREAD_USE_LIB are crucial and need to be
          documented.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/5013" target="_top">#5013</a>
          documentation: boost::thread: pthreas_exit causes terminate().
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/5173" target="_top">#5173</a>
          boost::this_thread::get_id is very slow.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/5351" target="_top">#5351</a>
          interrupt a future get boost::unknown_exception.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/5516" target="_top">#5516</a>
          Upgrade lock is not acquired when previous upgrade lock releases if another
          read lock is present.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/5990" target="_top">#5990</a>
          shared_future&lt;T&gt;::get() has wrong return type.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6174" target="_top">#6174</a>
          packaged_task doesn't correctly handle moving results.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6222" target="_top">#6222</a>
          Compile error with SunStudio: unique_future move.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6354" target="_top">#6354</a>
          PGI: Compiler threading support is not turned on.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6673" target="_top">#6673</a>
          shared_lock: move assign doesn't works with c++11.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6674" target="_top">#6674</a>
          shared_mutex: try_lock_upgrade_until doesn't works.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6908" target="_top">#6908</a>
          Compile error due to unprotected definitions of _WIN32_WINNT and WINVER.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6940" target="_top">#6940</a>
          TIME_UTC is a macro in C11.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6959" target="_top">#6959</a>
          call of abs is ambiguous.
        </li>
<li class="listitem">
          Fix issue signaled on the ML with task_object(task_object const&amp;) in
          presence of task_object(task_object &amp;&amp;)
        </li>
</ul></div>
<h4>
<a name="thread.changes.h3"></a>
      <span><a name="thread.changes.version_2_1_1___boost_1_49"></a></span><a class="link" href="changes.html#thread.changes.version_2_1_1___boost_1_49">Version
      2.1.1 - boost 1.49</a>
    </h4>
<p>
      Fixed Bugs:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/2309" target="_top">#2309</a>
          Lack of g++ symbol visibility support in Boost.Thread.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/2639" target="_top">#2639</a>
          documentation should be extended(defer_lock, try_to_lock, ...).
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/3639" target="_top">#3639</a>
          Boost.Thread doesn't build with Sun-5.9 on Linux.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/3762" target="_top">#3762</a>
          Thread can't be compiled with winscw (Codewarrior by Nokia).
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/3885" target="_top">#3885</a>
          document about mix usage of boost.thread and native thread api.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/3975" target="_top">#3975</a>
          Incorrect precondition for promise::set_wait_callback().
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/4048" target="_top">#4048</a>
          thread::id formatting involves locale
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/4315" target="_top">#4315</a>
          gcc 4.4 Warning: inline ... declared as dllimport: attribute ignored.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/4480" target="_top">#4480</a>
          OpenVMS patches for compiler issues workarounds.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/4819" target="_top">#4819</a>
          boost.thread's documentation misprints.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/5423" target="_top">#5423</a>
          thread issues with C++0x.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/5617" target="_top">#5617</a>
          boost::thread::id copy ctor.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/5739" target="_top">#5739</a>
          set-but-not-used warnings with gcc-4.6.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/5826" target="_top">#5826</a>
          threads.cpp: resource leak on threads creation failure.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/5839" target="_top">#5839</a>
          thread.cpp: ThreadProxy leaks on exceptions.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/5859" target="_top">#5859</a>
          win32 shared_mutex constructor leaks on exceptions.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6100" target="_top">#6100</a>
          Compute hardware_concurrency() using get_nprocs() on GLIBC systems.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6168" target="_top">#6168</a>
          recursive_mutex is using wrong config symbol (possible typo).
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6175" target="_top">#6175</a>
          Compile error with SunStudio.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6200" target="_top">#6200</a>
          patch to have condition_variable and mutex error better handle EINTR.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6207" target="_top">#6207</a>
          shared_lock swap compiler error on clang 3.0 c++11.
        </li>
<li class="listitem">
          <a href="http://svn.boost.org/trac/boost/ticket/6208" target="_top">#6208</a>
          try_lock_wrapper swap compiler error on clang 3.0 c++11.
        </li>
</ul></div>
<h4>
<a name="thread.changes.h4"></a>
      <span><a name="thread.changes.version_2_1_0___changes_since_boost_1_40"></a></span><a class="link" href="changes.html#thread.changes.version_2_1_0___changes_since_boost_1_40">Version 2.1.0
      - Changes since boost 1.40</a>
    </h4>
<p>
      The 1.41.0 release of Boost adds futures to the thread library. There are also
      a few minor changes.
    </p>
<h4>
<a name="thread.changes.h5"></a>
      <span><a name="thread.changes.changes_since_boost_1_35"></a></span><a class="link" href="changes.html#thread.changes.changes_since_boost_1_35">Changes
      since boost 1.35</a>
    </h4>
<p>
      The 1.36.0 release of Boost includes a few new features in the thread library:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
          New generic <a class="link" href="synchronization.html#thread.synchronization.lock_functions.lock_multiple" title="Non-member function lock(Lockable1,Lockable2,...)"><code class="computeroutput"><span class="identifier">lock</span><span class="special">()</span></code></a>
          and <a class="link" href="synchronization.html#thread.synchronization.lock_functions.try_lock_multiple" title="Non-member function try_lock(Lockable1,Lockable2,...)"><code class="computeroutput"><span class="identifier">try_lock</span><span class="special">()</span></code></a>
          functions for locking multiple mutexes at once.
        </li>
<li class="listitem">
          Rvalue reference support for move semantics where the compilers supports
          it.
        </li>
<li class="listitem">
          A few bugs fixed and missing functions added (including the serious win32
          condition variable bug).
        </li>
<li class="listitem">
          <code class="computeroutput"><span class="identifier">scoped_try_lock</span></code> types are
          now backwards-compatible with Boost 1.34.0 and previous releases.
        </li>
<li class="listitem">
          Support for passing function arguments to the thread function by supplying
          additional arguments to the <a class="link" href="thread_management.html#thread.thread_management.thread" title="Class thread"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread</span></code></a> constructor.
        </li>
<li class="listitem">
          Backwards-compatibility overloads added for <code class="computeroutput"><span class="identifier">timed_lock</span></code>
          and <code class="computeroutput"><span class="identifier">timed_wait</span></code> functions
          to allow use of <code class="computeroutput"><span class="identifier">xtime</span></code> for
          timeouts.
        </li>
</ul></div>
<h4>
<a name="thread.changes.h6"></a>
      <span><a name="thread.changes.version_2_0_0___changes_since_boost_1_34"></a></span><a class="link" href="changes.html#thread.changes.version_2_0_0___changes_since_boost_1_34">Version 2.0.0
      - Changes since boost 1.34</a>
    </h4>
<p>
      Almost every line of code in <span class="bold"><strong>Boost.Thread</strong></span>
      has been changed since the 1.34 release of boost. However, most of the interface
      changes have been extensions, so the new code is largely backwards-compatible
      with the old code. The new features and breaking changes are described below.
    </p>
<h4>
<a name="thread.changes.h7"></a>
      <span><a name="thread.changes.new_features"></a></span><a class="link" href="changes.html#thread.changes.new_features">New
      Features</a>
    </h4>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
          Instances of <a class="link" href="thread_management.html#thread.thread_management.thread" title="Class thread"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread</span></code></a> and of the various lock
          types are now movable.
        </li>
<li class="listitem">
          Threads can be interrupted at <a class="link" href="thread_management.html#interruption_points"><span class="emphasis"><em>interruption
          points</em></span></a>.
        </li>
<li class="listitem">
          Condition variables can now be used with any type that implements the
          <a class="link" href="synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code> concept</a>, through the
          use of <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">condition_variable_any</span></code> (<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">condition</span></code> is a <code class="computeroutput"><span class="keyword">typedef</span></code>
          to <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">condition_variable_any</span></code>, provided for
          backwards compatibility). <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">condition_variable</span></code>
          is provided as an optimization, and will only work with <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span><span class="special">&lt;</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">&gt;</span></code> (<code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">::</span><span class="identifier">scoped_lock</span></code>).
        </li>
<li class="listitem">
          Thread IDs are separated from <a class="link" href="thread_management.html#thread.thread_management.thread" title="Class thread"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread</span></code></a>, so a thread can obtain
          it's own ID (using <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">this_thread</span><span class="special">::</span><span class="identifier">get_id</span><span class="special">()</span></code>), and IDs can be used as keys in associative
          containers, as they have the full set of comparison operators.
        </li>
<li class="listitem">
          Timeouts are now implemented using the Boost DateTime library, through
          a typedef <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system_time</span></code> for absolute timeouts, and
          with support for relative timeouts in many cases. <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">xtime</span></code>
          is supported for backwards compatibility only.
        </li>
<li class="listitem">
          Locks are implemented as publicly accessible templates <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">lock_guard</span></code>,
          <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">unique_lock</span></code>, <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_lock</span></code>,
          and <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">upgrade_lock</span></code>, which are templated on
          the type of the mutex. The <a class="link" href="synchronization.html#thread.synchronization.mutex_concepts.lockable" title="Lockable Concept"><code class="computeroutput"><span class="identifier">Lockable</span></code> concept</a> has been extended
          to include publicly available <a class="link" href="synchronization.html#thread.synchronization.mutex_concepts.basic_lockable.lock" title="m.lock();"><code class="computeroutput"><span class="identifier">lock</span><span class="special">()</span></code></a>
          and <a class="link" href="synchronization.html#thread.synchronization.mutex_concepts.basic_lockable.unlock" title="m.unlock();"><code class="computeroutput"><span class="identifier">unlock</span><span class="special">()</span></code></a>
          member functions, which are used by the lock types.
        </li>
</ul></div>
<h4>
<a name="thread.changes.h8"></a>
      <span><a name="thread.changes.breaking_changes"></a></span><a class="link" href="changes.html#thread.changes.breaking_changes">Breaking
      Changes</a>
    </h4>
<p>
      The list below should cover all changes to the public interface which break
      backwards compatibility.
    </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
          <a class="link" href="synchronization.html#thread.synchronization.mutex_types.try_mutex" title="Typedef try_mutex"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">try_mutex</span></code></a> has been removed, and
          the functionality subsumed into <a class="link" href="synchronization.html#thread.synchronization.mutex_types.mutex" title="Class mutex"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span></code></a>. <a class="link" href="synchronization.html#thread.synchronization.mutex_types.try_mutex" title="Typedef try_mutex"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">try_mutex</span></code></a> is left as a <code class="computeroutput"><span class="keyword">typedef</span></code>, but is no longer a separate class.
        </li>
<li class="listitem">
          <a class="link" href="synchronization.html#thread.synchronization.mutex_types.recursive_try_mutex" title="Typedef recursive_try_mutex"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">recursive_try_mutex</span></code></a> has been removed,
          and the functionality subsumed into <a class="link" href="synchronization.html#thread.synchronization.mutex_types.recursive_mutex" title="Class recursive_mutex"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">recursive_mutex</span></code></a>. <a class="link" href="synchronization.html#thread.synchronization.mutex_types.recursive_try_mutex" title="Typedef recursive_try_mutex"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">recursive_try_mutex</span></code></a> is left as
          a <code class="computeroutput"><span class="keyword">typedef</span></code>, but is no longer
          a separate class.
        </li>
<li class="listitem">
          <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">detail</span><span class="special">::</span><span class="identifier">thread</span><span class="special">::</span><span class="identifier">lock_ops</span></code> has been removed. Code that
          relies on the <code class="computeroutput"><span class="identifier">lock_ops</span></code>
          implementation detail will no longer work, as this has been removed, as
          it is no longer necessary now that mutex types now have public <a class="link" href="synchronization.html#thread.synchronization.mutex_concepts.basic_lockable.lock" title="m.lock();"><code class="computeroutput"><span class="identifier">lock</span><span class="special">()</span></code></a>
          and <a class="link" href="synchronization.html#thread.synchronization.mutex_concepts.basic_lockable.unlock" title="m.unlock();"><code class="computeroutput"><span class="identifier">unlock</span><span class="special">()</span></code></a>
          member functions.
        </li>
<li class="listitem">
          <code class="computeroutput"><span class="identifier">scoped_lock</span></code> constructors
          with a second parameter of type <code class="computeroutput"><span class="keyword">bool</span></code>
          are no longer provided. With previous boost releases,
<pre class="programlisting"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">::</span><span class="identifier">scoped_lock</span> <span class="identifier">some_lock</span><span class="special">(</span><span class="identifier">some_mutex</span><span class="special">,</span><span class="keyword">false</span><span class="special">);</span></pre>
          could be used to create a lock object that was associated with a mutex,
          but did not lock it on construction. This facility has now been replaced
          with the constructor that takes a <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">defer_lock_type</span></code>
          as the second parameter:
<pre class="programlisting"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span><span class="special">::</span><span class="identifier">scoped_lock</span> <span class="identifier">some_lock</span><span class="special">(</span><span class="identifier">some_mutex</span><span class="special">,</span><span class="identifier">boost</span><span class="special">::</span><span class="identifier">defer_lock</span><span class="special">);</span></pre>
        </li>
<li class="listitem">
          The <code class="computeroutput"><span class="identifier">locked</span><span class="special">()</span></code>
          member function of the <code class="computeroutput"><span class="identifier">scoped_lock</span></code>
          types has been renamed to <a class="link" href="synchronization.html#thread.synchronization.locks.unique_lock.owns_lock" title="bool owns_lock() const"><code class="computeroutput"><span class="identifier">owns_lock</span><span class="special">()</span></code></a>.
        </li>
<li class="listitem">
          You can no longer obtain a <a class="link" href="thread_management.html#thread.thread_management.thread" title="Class thread"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread</span></code></a> instance representing the
          current thread: a default-constructed <a class="link" href="thread_management.html#thread.thread_management.thread" title="Class thread"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread</span></code></a> object is not associated
          with any thread. The only use for such a thread object was to support the
          comparison operators: this functionality has been moved to <a class="link" href="thread_management.html#thread.thread_management.thread.id" title="Class boost::thread::id"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">thread</span><span class="special">::</span><span class="identifier">id</span></code></a>.
        </li>
<li class="listitem">
          The broken <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">read_write_mutex</span></code> has been replaced with
          <a class="link" href="synchronization.html#thread.synchronization.mutex_types.shared_mutex" title="Class shared_mutex"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">shared_mutex</span></code></a>.
        </li>
<li class="listitem">
          <a class="link" href="synchronization.html#thread.synchronization.mutex_types.mutex" title="Class mutex"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span></code></a> is now never recursive.
          For Boost releases prior to 1.35 <a class="link" href="synchronization.html#thread.synchronization.mutex_types.mutex" title="Class mutex"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">mutex</span></code></a> was recursive on Windows
          and not on POSIX platforms.
        </li>
<li class="listitem">
          When using a <a class="link" href="synchronization.html#thread.synchronization.mutex_types.recursive_mutex" title="Class recursive_mutex"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">recursive_mutex</span></code></a> with a call to
          <a class="link" href="synchronization.html#thread.synchronization.condvar_ref.condition_variable_any.wait" title="template&lt;typename lock_type&gt; void wait(lock_type&amp; lock)"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">condition_variable_any</span><span class="special">::</span><span class="identifier">wait</span><span class="special">()</span></code></a>,
          the mutex is only unlocked one level, and not completely. This prior behaviour
          was not guaranteed and did not feature in the tests.
        </li>
</ul></div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2007 -11 Anthony Williams<br>Copyright &#169; 2011 -12 Vicente J. Botet Escriba<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="build.html"><img src="../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../thread.html"><img src="../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="future.html"><img src="../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
